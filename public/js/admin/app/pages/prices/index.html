<div class = "row">

   <div class = "col-sm-12 col-md-12 b-add-category">
      
  
      <table>
        <tr style="vertical-align: top;">
          <td>
             
            <div class = "uload_img_block">        
                <input type="file" 
                       nv-file-select 
                       uploader="PricesController.uploader"
                />
              
              <span class="uload_photo-text"> фото <br /> (300х300)</span>
         
              <img ng-src = "{{PricesController.imgSrc}}" 
                   alt = "фото"
                   ng-if = "PricesController.imgSrc"
              >
            </div> 

          </td>
          <td style="padding: 0 20px;">

              <input placeholder="Название категории" 
                     ng-model="PricesController.nameNewService"  
              />

          </td>
          <td>
                <textarea placeholder="Описание к категории" 
                          ng-model="PricesController.descriptionNewService"  
                ></textarea> 
          </td>
        </tr>
      </table>

      <br />

      <button type = "button" 
         class = "btn btn-warning"
         ng-click = "PricesController.addService();"
         > 
      		<span class ="glyphicon glyphicon-plus"></span> Добавить категорию услуг
      </button>

      <br /> <br /> 
   </div>


   <div class = "col-sm-12 col-md-12">
      <h4>Категории</h4>
      
      <div class="panel panel-success" ng-repeat = "service in PricesController.services">
         <div class="panel-heading">
           	<img ng-src="{{:: service.src }}" class = "h-service-img">
              &nbsp<h4 class = "admin-titile-h4">{{:: service.name }}</h4>
            <div class = "b-remove-cat-service"> 

	            <span class ="glyphicon glyphicon-remove cursor_pointer"
					          ng-click="PricesController.removeService($index)"
	            ></span> 
            </div>

         </div>
        
           <div class="panel-footer" ng-if="service.description">
              <div >{{:: service.description }}</div>
            </div>  

         <div class="panel-body">
            
            <div class = "col-sm-12 col-md-12">

                <div class = "b-input_small">
                  <input placeholder = "Название услуги"
                         ng-model = "service.serviceItemName" 
                  >
                </div>
                
                <div class = "b-input_small">
                  <input placeholder = "Процент скидки"
                         ng-model =  "service.serviceItemPromoCount" 
                  > %
                </div>

                <div class = "b-input_small">
                  <input placeholder="цена"
						             ng-model =	"service.serviceItemPrice"
						             type="number" 
                  > zl.
                </div>
               
                <button type = "button" 
                		class = "btn btn-success"
                		ng-click = "PricesController.addItemToService($index)"
                > 
               		<span class ="glyphicon glyphicon-plus"></span> Добавить услугу
               	</button>
               
               <br /><br /> 
            </div>

            <table class="table table-hover"> 
                <thead>
                  <th>Название Услуги</th>
                  <th>Процент скидки</th>
                  <th>Цена</th>
                  <th></th>
                </thead>

               <tr ng-repeat = "serviceItem in service.items">
                  <td>
                     <span ng-show = "!serviceItem.editItem"> {{ serviceItem.name }} </span>
                     <input ng-show = "serviceItem.editItem" 
                            type="text" 
                            ng-model="serviceItem.nameEditing"
                            placeholder="Название услуги" 
                      >
                  </td>
                  
                  <td>
                     <span ng-show = "!serviceItem.editItem"> {{ serviceItem.promo_count }} </span>
                     
                     <input ng-show = "serviceItem.editItem" 
                            type="text" 
                            ng-model="serviceItem.promo_countEditing"
                            placeholder="Процент скидки" 
                      >

                      %

                  </td>

                  <td>
                     <span ng-show = "!serviceItem.editItem" > {{ serviceItem.price }} zl</span> 
                     <input ng-show = "serviceItem.editItem" 
                            type="number" 
                            ng-model="serviceItem.priceEditing"
                            placeholder="Цена услуги" 
                     >
                  </td>
                  <td>
                    <div ng-show = "!serviceItem.editItem">
                       <span class ="glyphicon glyphicon-remove cursor_pointer edit_icon" 
  						               ng-click="PricesController.removeItem(service, $index);"	
                       ></span>

                        <span class ="glyphicon glyphicon-pencil cursor_pointer edit_icon" 
  						                ng-click="PricesController.startEditItem(serviceItem);"	
                       ></span>
                     </div>

                     <div ng-show = "serviceItem.editItem">
                       <span class ="glyphicon glyphicon-floppy-save cursor_pointer edit_icon" 
                             ng-click="PricesController.endEditingItem(serviceItem);" 
                       ></span>
                     </div>


                  </td>
               </tr>
            </table>

         </div>

      </div>

   </div>
</div>
